# **실습 5: 뉴스 요약 자동화**
실습 5에서는 **Google 알리미**를 통해 수신된 이메일을 **ChatGPT API**를 활용하여 뉴스 데이터를 추출하고, 이를 **Google 스프레드시트**에 개별로 입력한 후, **Slack**에 공유하는 자동화 시스템을 구축합니다. 또한, 추가 실습으로 **블로그 글을 자동으로 요약하여 이메일로 발송하는 기능**도 구현합니다.

---

# **1. Google 알리미 설정**

## **1-1. Google 알리미 생성**

1. **Google 알리미 페이지로 이동**: [Google 알리미](https://www.google.com/alerts)
2. **키워드 입력**: 관심 있는 주제나 키워드를 입력합니다. 예: "인공지능 뉴스"
3. **알림 만들기**: '알림 만들기' 버튼을 클릭하여 해당 키워드에 대한 알림을 생성합니다.

## **1-2. 알림 설정 세부 조정**

- **빈도**: 원하는 수신 빈도를 선택합니다.
- **소스**: 뉴스, 블로그 등 원하는 소스를 선택합니다.
- **언어 및 지역**: 관심 있는 언어와 지역을 설정합니다.
- **수신 이메일**: 알림을 받을 이메일 주소를 확인합니다.

---

# **2. Zapier를 활용한 자동화 구성**

## **2-1. Zapier 계정 생성 및 로그인**

1. **Zapier 가입 및 로그인**: [Zapier](https://zapier.com/)에서 계정을 생성하고 로그인합니다.
2. **새로운 Zap 생성**: 'Create Zap'을 클릭하여 새로운 자동화 작업을 시작합니다.

## **2-2. 트리거 설정: Gmail에서 새로운 알림 이메일 수신 시**

1. **앱 선택**: 'Gmail'을 선택합니다.
2. **트리거 이벤트 선택**: 'New Email'을 선택합니다.
3. **계정 연결**: Google 알리미를 수신하는 Gmail 계정을 연결합니다.
4. **설정**: 필터를 설정하여 특정 발신자(예: 'alerts-noreply@google.com')나 제목을 가진 이메일만 트리거되도록 합니다.

## **2-3. 액션 설정: ChatGPT를 활용한 뉴스 요약 생성**

1. **앱 선택**: 'Webhooks by Zapier'를 선택합니다.
2. **액션 이벤트 선택**: 'Custom Request'를 선택합니다.
3. **설정**:
   - **Method**: 'POST'를 선택합니다.
   - **URL**: `https://api.openai.com/v1/completions`
   - **Headers**:
     - `Content-Type`: `application/json`
     - `Authorization`: `Bearer YOUR_OPENAI_API_KEY`
   - **Data**:
     ```json
     {
       "model": "text-davinci-003",
       "prompt": "다음 뉴스를 요약해 주세요:\n\n{{Email Body}}",
       "max_tokens": 150
     }
     ```

## **2-4. 액션 설정: Google 스프레드시트에 데이터 저장**

1. **앱 선택**: 'Google Sheets'를 선택합니다.
2. **액션 이벤트 선택**: 'Create Spreadsheet Row'를 선택합니다.
3. **계정 연결**: Google 계정을 연결합니다.
4. **설정**:
   - **스프레드시트 선택**: 뉴스 데이터를 저장할 스프레드시트를 선택합니다.
   - **워크시트 선택**: 해당 워크시트를 선택합니다.
   - **각 열에 데이터 매핑**: 예를 들어, '제목' 열에는 이메일 제목을, '요약' 열에는 ChatGPT의 응답을 매핑합니다.

## **2-5. 액션 설정: Slack에 알림 전송**

1. **앱 선택**: 'Slack'을 선택합니다.
2. **액션 이벤트 선택**: 'Send Channel Message'를 선택합니다.
3. **계정 연결**: Slack 계정을 연결합니다.
4. **설정**:
   - **채널 선택**: 알림을 보낼 채널을 선택합니다.
   - **메시지 텍스트**: 뉴스 제목과 요약을 포함한 메시지를 작성합니다.

---

추가 실습으로 **블로그 글을 자동으로 요약하여 이메일로 발송하는 기능**을 구현해보겠습니다.

---

# **추가 실습: 블로그 글 자동 요약 및 이메일 발송**

## **1. RSS 피드에서 최신 블로그 글 가져오기**

1. **Zapier에서 새로운 Zap 생성**:
   - Zapier 계정에 로그인하고, 'Create Zap'을 클릭합니다.

2. **Trigger 설정**:
   - **앱 선택**: 'RSS by Zapier'를 선택합니다.
   - **Trigger Event 선택**: 'New Item in Feed'를 선택합니다.
   - **Feed URL 입력**: 자동화하려는 블로그의 RSS 피드 URL을 입력합니다. 예: `https://example.com/feed`

3. **계정 연결 및 테스트**:
   - Zapier가 RSS 피드에 접근할 수 있도록 설정하고, 새로운 아이템이 감지되는지 테스트합니다.

## **2. ChatGPT를 활용한 블로그 글 요약**

1. **Action 설정**:
   - **앱 선택**: 'OpenAI (ChatGPT)'를 선택합니다.
   - **Action Event 선택**: 'Create Completion'을 선택합니다.

2. **요약 프롬프트 구성**:
   - **Prompt 입력**: 블로그 글의 내용을 요약하도록 지시하는 프롬프트를 작성합니다. 예:
     ```
     다음 블로그 글을 3문장으로 요약해 주세요:

     {{블로그_글_내용}}
     ```
   - **Temperature 설정**: 0.5로 설정하여 생성되는 텍스트의 창의성을 조절합니다.

3. **모델 선택 및 테스트**:
   - **Model 선택**: 'text-davinci-003' 또는 최신 모델을 선택합니다.
   - 설정을 저장하고, 테스트를 통해 요약이 제대로 생성되는지 확인합니다.

## **3. 요약된 내용을 이메일로 발송**

1. **Action 추가**:
   - **앱 선택**: 'Gmail'을 선택합니다.
   - **Action Event 선택**: 'Send Email'을 선택합니다.

2. **이메일 구성**:
   - **Recipient**: 요약된 내용을 받을 이메일 주소를 입력합니다.
   - **Subject**: '새로운 블로그 글 요약' 등으로 설정합니다.
   - **Body**: ChatGPT에서 생성된 요약 내용을 본문에 포함시킵니다.

3. **테스트 및 활성화**:
   - 설정을 저장하고, 테스트 이메일을 발송하여 제대로 동작하는지 확인합니다.
   - 모든 설정이 완료되면 Zap을 활성화하여 자동화 프로세스를 시작합니다.

---

이로써, 새로운 블로그 글이 게시될 때마다 해당 내용을 자동으로 요약하여 지정된 이메일로 발송하는 시스템이 완성되었습니다. 이를 통해 최신 콘텐츠를 효율적으로 파악하고 공유할 수 있습니다. 